<!-- results.html -->

{% extends "base.html" %}

{% block title %}Data Estimates{% endblock %}

{% block includes %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/results.css') }}">
{% endblock %}

{% block pageheader %}Results:{% endblock %}

{% block body %}
<table>
	<tr>
		<th>Indicator Name</th>
		<th>Geography</th>
		<th>Year</th>
		<th>Gender</th>
		<th>Level</th>
		<th>Sub-Population</th>
		<th>Farm Size</th>
		<th>Crop</th>
		<th>Units</th>
		<th>Mean</th>
		<th>Standard Error</th>
	</tr>
{% for ind in indicators %}
	<tr>
		<td title="{{ ind.CntryCons.indcon.constructiondecision }}">
			{{ind.Estimates.indicatorName}}
		</td>
		<td>{{ind.Estimates.geography}}</td>
		<td title="{{ ind.CntryCons.cntrydec }}">{{ind.Estimates.year}}</td>
		<td>{{ind.Estimates.genderDisaggregation}}</td>
		<td>{{ind.Estimates.indicatorLevel}} </td>
		<td>{{ind.Estimates.subpopulation}}</td>
		<td>{{ind.Estimates.farmSizeDisaggregation}}</td>
		<td>{{ind.Estimates.cropDisaggregation}}</td>
		<td>{{ind.Estimates.units}}</td>
		<td title="{{ ind.CntryCons.indcon.numerator }} {% if ind.Estimates.units == 'Proportion' %} / {{ ind.CntryCons.indcon.denominator }}{% endif %}">
			{% if ind.Estimates.mean and "$" in ind.Estimates.units  %} 
				{{"{:.2f}".format(ind.Estimates.mean)}}
			{% elif ind.Estimates.mean %}
				{{"{:.3f}".format(ind.Estimates.mean)}}
			{% else  %}
				N/A
			{% endif %}
		</td>
		<td>{% if ind.Estimates.se and "$" in ind.Estimates.units  %} 
				{{"{:.2f}".format(ind.Estimates.se)}}
			{% elif ind.Estimates.se %}
				{{"{:.3f}".format(ind.Estimates.se)}}
			{% else  %}
				N/A
			{% endif %}
{% endfor %}
</table>
{% endblock %}